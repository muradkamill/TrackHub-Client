<div class="bg-stone-700">
<div class="mx-2 mb-[-2rem] relative bg-stone-700">
  <div class="flex items-center">
    <button class="flex items-center bg-stone-700  text-white rounded-md" (mouseenter)="onHover()" (mouseleave)="outHover()">
      <img class="h-9 w-7" src="/menu.png" alt="" />
      <div class="ms-2 text-xl text-white hover:bg-amber-700/70">All Categories</div>
    </button>

    <div class="flex h-7 gap-4 md:ms-16 overflow-hidden">
      @for (category of categories; track category) {
        <button class="bg-stone-700 hover:bg-amber-700/70 text-white rounded-md" (click)="getProducts(category.CategoryId)">
          {{ category.CategoryName }}
        </button>
      }
    </div>
  </div>
</div>

<br />

@if (hoverEl) {
  <div
    class="absolute top-[95px] left-1/2 -translate-x-1/2 w-full max-w-6xl mx-auto mt-4 bg-stone-800 border border-stone-600 z-10 rounded-md p-3 shadow-lg"
    (mouseenter)="onHover()"
    (mouseleave)="outHover()"
  >
    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
      @for (category of categories; track category) {
        <div class="bg-stone-700 rounded-md p-2 hover:bg-stone-600 transition-all duration-200">
          <h3 class="font-semibold text-white text-base mb-2 border-b border-stone-500 pb-1 truncate">
            {{ category.CategoryName }}
          </h3>
          <div class="flex flex-col gap-1 mt-1">
            @for (subCategory of getSubCategories(category.CategoryName); track subCategory) {
              <button
                class="text-xs text-gray-200 bg-stone-600 hover:bg-amber-600 hover:text-white rounded-md px-2 py-1 text-left transition-all duration-200 truncate"
                (click)="getProductsBySubcategory(subCategory.SubCategoryId, category.CategoryId)"
              >
                {{ subCategory.SubCategoryName }}
              </button>
            }
          </div>
        </div>
      }
    </div>
  </div>
}
</div>
